<form [formGroup]="otForm">
  <div id="ot-form">
    <mat-card>
      <mat-card-title>Ahmmad Pharmacy</mat-card-title>
      <h3>OT Medicine List</h3>

      <mat-card-content>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Patient Name</mat-label>
          <input matInput formControlName="patientName" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Doctor Name</mat-label>
          <input matInput formControlName="doctorName" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Room Number</mat-label>
          <input matInput formControlName="roomNumber" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Operation Date</mat-label>
          <input matInput type="date" formControlName="operationDate" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Operation Time</mat-label>
          <input matInput type="time" formControlName="operationTime" />
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Medicine Status</mat-label>
          <mat-select formControlName="includeMedicineHeader">
            <mat-option value="withMedicine">With Medicine</mat-option>
            <mat-option value="withoutMedicine">Without Medicine</mat-option>
          </mat-select>
        </mat-form-field>

        <div formArrayName="products" class="product-list">
          <div
            *ngFor="let productCtrl of productControls.controls; let i = index"
            [formGroupName]="i"
            class="product-item"
          >
            <mat-checkbox formControlName="selected">
              {{ products[i] }}
            </mat-checkbox>

            <mat-form-field appearance="outline" class="quantity-field">
              <mat-label>Quantity</mat-label>
              <input matInput type="number" formControlName="quantity" />
            </mat-form-field>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="submitForm(false)">Submit</button>
    <button mat-raised-button color="accent" (click)="submitForm(true)">Update</button>
    <button mat-raised-button color="warn" (click)="cancelForm()">Cancel</button>
  </mat-card-actions>
</form>
