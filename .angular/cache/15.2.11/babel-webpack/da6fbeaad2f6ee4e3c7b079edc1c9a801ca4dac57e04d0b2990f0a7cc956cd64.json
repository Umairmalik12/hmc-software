{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ViewContainerRef } from '@angular/core';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { PatientEditComponent } from '../patient/patient-edit/patient-edit.component';\nimport { OpdEditComponent } from '../opdslip/opd-edit/opd-edit.component';\nimport { LabEditComponent } from '../lab/lab-edit/lab-edit.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/Services/notify-update.service\";\nimport * as i3 from \"src/app/Services/patient.service\";\nimport * as i4 from \"src/app/Services/opd.service\";\nimport * as i5 from \"src/app/Services/lab.service\";\nimport * as i6 from \"src/app/Services/showalert.service\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"src/app/Services/indexed-db.service\";\nconst _c0 = [\"placeholder\"];\nfunction HomeComponent_ng_template_0_Template(rf, ctx) {}\nfunction HomeComponent_app_patient_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-patient\");\n  }\n}\nfunction HomeComponent_app_opd_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-opd\");\n  }\n}\nfunction HomeComponent_app_lab_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-lab\");\n  }\n}\nfunction HomeComponent_app_ot_form_85_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-ot-form\", 16);\n    i0.ɵɵlistener(\"isCancelForm\", function HomeComponent_app_ot_form_85_Template_app_ot_form_isCancelForm_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.close());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"selectedPatientId\", ctx_r6.otPatientId);\n  }\n}\nfunction HomeComponent_app_otlist_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-otlist\");\n  }\n}\nfunction HomeComponent_app_payment_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-payment\");\n  }\n}\nfunction HomeComponent_app_preciption_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-preciption\");\n  }\n}\nfunction HomeComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"h1\");\n    i0.ɵɵtext(2, \"Welcome to Haq Medical Center\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Providing quality healthcare with excellence.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(dialog, notifyUpdate, patientService, opdService, labService, showAlert, route, dbService) {\n      this.dialog = dialog;\n      this.notifyUpdate = notifyUpdate;\n      this.patientService = patientService;\n      this.opdService = opdService;\n      this.labService = labService;\n      this.showAlert = showAlert;\n      this.route = route;\n      this.dbService = dbService;\n      this.userName = '';\n      this.currentDateTime = new Date();\n      this.tempPatient = {\n        patientId: 0,\n        firstName: '',\n        lastName: '',\n        drName: '',\n        gender: '',\n        age: 0,\n        maritalStatus: '',\n        dob: new Date(),\n        phone: '',\n        email: '',\n        state: '',\n        address: ''\n      };\n      this.tempOpd = {\n        patientId: 0,\n        dateTime: '',\n        patientName: '',\n        age: 0,\n        sex: '',\n        bp: '',\n        temp: '',\n        weight: '',\n        phone: '',\n        address: '',\n        history: '',\n        drName: '',\n        followUp: '',\n        patientCategory: '',\n        amount: 0\n      };\n      this.tempLabPatient = {\n        patientId: 0,\n        price: 0,\n        suggestedDr: '',\n        dateTime: new Date(),\n        name: '',\n        phone: '',\n        testName: ''\n      };\n      this.isShowPatients = true;\n      this.isShowOpdPatients = false;\n      this.isShowLabSlips = false;\n      this.isShowOtSlips = false;\n      this.isShowPrecption = false;\n      this.isShowOtList = false;\n      this.isShowPayment = false;\n      this.isAdmin = false;\n      this.isSuperAdmin = false;\n      this.notifyUpdate.alertNotify.subscribe(ob => {\n        this.showAlert.showAlert(ob.msg, ob.type, this.alertContainer);\n      });\n    }\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.dbService.getItem('loginUser').then(loginUser => {\n          this.isSuperAdmin = loginUser === 'admin';\n        });\n        setInterval(() => {\n          this.currentDateTime = new Date();\n        }, 1000);\n        this.route.queryParams.subscribe(params => {\n          this.otPatientId = params['patientId'];\n          if (this.otPatientId) {\n            this.isShowOtSlips = true;\n            this.isShowOtList = false;\n            this.isShowLabSlips = false;\n            this.isShowPatients = false;\n            this.isShowOpdPatients = false;\n            this.isShowPrecption = false;\n          } else {\n            this.isShowOtSlips = false;\n            this.isShowOtList = true;\n            this.isShowLabSlips = false;\n            this.isShowPatients = false;\n            this.isShowOpdPatients = false;\n            this.isShowPrecption = false;\n          }\n        });\n      });\n    }\n    openDialog(component, data, serviceMethod) {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = true;\n      dialogConfig.data = data;\n      const dialogRef = this.dialog.open(component, dialogConfig);\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          let res = serviceMethod(result);\n          let msg = res ? \"Operation Successful\" : \"Something went wrong\";\n          let type = res ? \"success\" : \"error\";\n          this.notifyUpdate.notify.next(true);\n          this.notifyUpdate.alertNotify.next({\n            msg,\n            type\n          });\n        }\n      });\n    }\n    showPatientList() {\n      this.resetViews();\n      this.isShowPatients = true;\n    }\n    showOpdList() {\n      this.resetViews();\n      this.isShowOpdPatients = true;\n    }\n    showLabTestSlipList() {\n      this.resetViews();\n      this.isShowLabSlips = true;\n    }\n    showOtSlip() {\n      this.resetViews();\n      this.isShowOtSlips = true;\n    }\n    showOtListSlip() {\n      this.resetViews();\n      this.isShowOtList = true;\n    }\n    showPayment() {\n      this.resetViews();\n      this.isShowPayment = true;\n    }\n    showPreception() {\n      this.resetViews();\n      this.isShowPrecption = true;\n    }\n    close() {\n      this.resetViews();\n      this.isShowOtList = true;\n    }\n    resetViews() {\n      this.isShowPatients = false;\n      this.isShowOpdPatients = false;\n      this.isShowLabSlips = false;\n      this.isShowOtSlips = false;\n      this.isShowOtList = false;\n      this.isShowPayment = false;\n      this.isShowPrecption = false;\n    }\n    addPatient() {\n      this.openDialog(PatientEditComponent, this.tempPatient, patientData => {\n        this.patientService.addNewPatient(patientData).then(success => {\n          if (success) {\n            console.log('Operation Patient added successfully');\n          }\n          return success;\n        }).catch(err => {\n          console.error('Error adding patient:', err);\n          return false;\n        });\n        return true;\n      });\n    }\n    addOpdSlip() {\n      this.openDialog(OpdEditComponent, this.tempOpd, opdPatientData => {\n        this.opdService.addNewOpd(opdPatientData).then(success => {\n          if (success) {\n            console.log('Opd Patient added successfully');\n          }\n          return success;\n        }).catch(err => {\n          console.error('Error adding patient:', err);\n          return false;\n        });\n        return true;\n      });\n    }\n    addLabTestSlip() {\n      this.openDialog(LabEditComponent, this.tempLabPatient, patientData => {\n        this.labService.addNewLabPatient(patientData).subscribe({\n          next: success => {\n            if (success) {\n              console.log('Patient added successfully');\n            }\n            return success;\n          },\n          error: err => {\n            console.error('Error adding patient:', err);\n            return false;\n          }\n        });\n        return true;\n      });\n    }\n  }\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.NotifyUpdateService), i0.ɵɵdirectiveInject(i3.PatientService), i0.ɵɵdirectiveInject(i4.OpdService), i0.ɵɵdirectiveInject(i5.LabService), i0.ɵɵdirectiveInject(i6.ShowalertService), i0.ɵɵdirectiveInject(i7.ActivatedRoute), i0.ɵɵdirectiveInject(i8.IndexedDbService));\n  };\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    viewQuery: function HomeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ViewContainerRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.alertContainer = _t.first);\n      }\n    },\n    decls: 90,\n    vars: 13,\n    consts: [[\"placeholder\", \"\"], [1, \"sidenav-container\"], [\"mode\", \"side\", \"opened\", \"\"], [\"sidenav\", \"\"], [1, \"sidebar-title\"], [\"mat-list-item\", \"\", 3, \"click\"], [\"mat-list-item\", \"\", \"routerLink\", \"\"], [\"color\", \"primary\", 1, \"nav-toolbar\"], [1, \"title\"], [1, \"user-info\"], [1, \"datetime\"], [\"mat-mini-fab\", \"\", \"color\", \"warn\", 1, \"nav-button\", 3, \"click\"], [1, \"content\"], [4, \"ngIf\"], [3, \"selectedPatientId\", \"isCancelForm\", 4, \"ngIf\"], [\"class\", \"welcome\", 4, \"ngIf\"], [3, \"selectedPatientId\", \"isCancelForm\"], [1, \"welcome\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n        i0.ɵɵtemplate(0, HomeComponent_ng_template_0_Template, 0, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(2, \"mat-sidenav-container\", 1)(3, \"mat-sidenav\", 2, 3)(5, \"mat-nav-list\")(6, \"h3\", 4);\n        i0.ɵɵtext(7, \"Navigation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_8_listener() {\n          return ctx.addPatient();\n        });\n        i0.ɵɵelementStart(9, \"mat-icon\");\n        i0.ɵɵtext(10, \"person_add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"span\");\n        i0.ɵɵtext(12, \"Add Operate Patient\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_13_listener() {\n          return ctx.showPatientList();\n        });\n        i0.ɵɵelementStart(14, \"mat-icon\");\n        i0.ɵɵtext(15, \"local_hospital\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"span\");\n        i0.ɵɵtext(17, \"Operate Patients\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_18_listener() {\n          return ctx.addOpdSlip();\n        });\n        i0.ɵɵelementStart(19, \"mat-icon\");\n        i0.ɵɵtext(20, \"note_add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"span\");\n        i0.ɵɵtext(22, \"Add OPD Slip\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_23_listener() {\n          return ctx.showOpdList();\n        });\n        i0.ɵɵelementStart(24, \"mat-icon\");\n        i0.ɵɵtext(25, \"assignment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"span\");\n        i0.ɵɵtext(27, \"OPD Slips\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_28_listener() {\n          return ctx.addLabTestSlip();\n        });\n        i0.ɵɵelementStart(29, \"mat-icon\");\n        i0.ɵɵtext(30, \"biotech\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"span\");\n        i0.ɵɵtext(32, \"Add Lab Slip\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_33_listener() {\n          return ctx.showLabTestSlipList();\n        });\n        i0.ɵɵelementStart(34, \"mat-icon\");\n        i0.ɵɵtext(35, \"science\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"span\");\n        i0.ɵɵtext(37, \"Lab Test Slips\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_38_listener() {\n          return ctx.showOtSlip();\n        });\n        i0.ɵɵelementStart(39, \"mat-icon\");\n        i0.ɵɵtext(40, \"local_pharmacy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"span\");\n        i0.ɵɵtext(42, \"OT Medicine Slip\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_43_listener() {\n          return ctx.showOtListSlip();\n        });\n        i0.ɵɵelementStart(44, \"mat-icon\");\n        i0.ɵɵtext(45, \"local_pharmacy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"span\");\n        i0.ɵɵtext(47, \"OT Medicine List\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(48, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_48_listener() {\n          return ctx.showPayment();\n        });\n        i0.ɵɵelementStart(49, \"mat-icon\");\n        i0.ɵɵtext(50, \"local_pharmacy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"span\");\n        i0.ɵɵtext(52, \"Payment\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_53_listener() {\n          return ctx.showPreception();\n        });\n        i0.ɵɵelementStart(54, \"mat-icon\");\n        i0.ɵɵtext(55, \"local_pharmacy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"span\");\n        i0.ɵɵtext(57, \"Preception\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"a\", 6)(59, \"mat-icon\");\n        i0.ɵɵtext(60, \"exit_to_app\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"span\");\n        i0.ɵɵtext(62, \"Logout\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(63, \"mat-sidenav-content\")(64, \"mat-toolbar\", 7)(65, \"div\", 8);\n        i0.ɵɵtext(66, \"Haq Medical Center\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"div\", 9)(68, \"mat-icon\");\n        i0.ɵɵtext(69, \"person\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"span\");\n        i0.ɵɵtext(71);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(72, \"div\", 10)(73, \"mat-icon\");\n        i0.ɵɵtext(74, \"schedule\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"span\");\n        i0.ɵɵtext(76);\n        i0.ɵɵpipe(77, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_78_listener() {\n          i0.ɵɵrestoreView(_r13);\n          const _r2 = i0.ɵɵreference(4);\n          return i0.ɵɵresetView(_r2.toggle());\n        });\n        i0.ɵɵelementStart(79, \"mat-icon\");\n        i0.ɵɵtext(80, \"menu\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(81, \"div\", 12);\n        i0.ɵɵtemplate(82, HomeComponent_app_patient_82_Template, 1, 0, \"app-patient\", 13);\n        i0.ɵɵtemplate(83, HomeComponent_app_opd_83_Template, 1, 0, \"app-opd\", 13);\n        i0.ɵɵtemplate(84, HomeComponent_app_lab_84_Template, 1, 0, \"app-lab\", 13);\n        i0.ɵɵtemplate(85, HomeComponent_app_ot_form_85_Template, 1, 1, \"app-ot-form\", 14);\n        i0.ɵɵtemplate(86, HomeComponent_app_otlist_86_Template, 1, 0, \"app-otlist\", 13);\n        i0.ɵɵtemplate(87, HomeComponent_app_payment_87_Template, 1, 0, \"app-payment\", 13);\n        i0.ɵɵtemplate(88, HomeComponent_app_preciption_88_Template, 1, 0, \"app-preciption\", 13);\n        i0.ɵɵtemplate(89, HomeComponent_div_89_Template, 5, 0, \"div\", 15);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(71);\n        i0.ɵɵtextInterpolate(ctx.userName);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(77, 10, ctx.currentDateTime, \"MMM d, y, h:mm a\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowPatients);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowOpdPatients);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowLabSlips);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowOtSlips);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowOtList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowPayment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSuperAdmin && ctx.isShowPrecption);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isShowPatients && !ctx.isShowOpdPatients && !ctx.isShowLabSlips);\n      }\n    },\n    styles: [\".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidebar-title[_ngcontent-%COMP%]{padding:15px;font-size:18px;font-weight:700}.nav-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 15px}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:16px;margin-right:20px}.datetime[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:16px}.nav-options[_ngcontent-%COMP%]{display:flex;gap:10px}.nav-button[_ngcontent-%COMP%]{margin-left:auto}.content[_ngcontent-%COMP%]{padding:20px}.welcome[_ngcontent-%COMP%]{text-align:center;margin-top:50px}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}