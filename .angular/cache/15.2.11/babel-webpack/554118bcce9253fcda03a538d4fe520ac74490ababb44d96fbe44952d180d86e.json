{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ViewContainerRef } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/Services/user-login.service\";\nimport * as i3 from \"src/app/Services/showalert.service\";\nimport * as i4 from \"src/app/Services/indexed-db.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"@angular/material/input\";\nimport * as i12 from \"@angular/material/checkbox\";\nconst _c0 = [\"placeholder\"];\nconst _c1 = [\"f\"];\nfunction LoginComponent_ng_template_0_Template(rf, ctx) {}\nfunction LoginComponent_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"username is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_mat_error_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(route, logIn, showAlert, dbService) {\n      this.route = route;\n      this.logIn = logIn;\n      this.showAlert = showAlert;\n      this.dbService = dbService;\n      this.title = \"Haq Medical Center Login Page\";\n      this.hide = true;\n    }\n    ngOnInit() {\n      this.logIn.SignOut();\n      this.initializeUsers();\n    }\n    initializeUsers() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const existing = yield this.dbService.getItem('hospitalUsers');\n        if (!existing) {\n          const users = [{\n            username: 'admin',\n            password: 'admin123'\n          }, {\n            username: 'staff',\n            password: '@Asdf112233'\n          }];\n          yield this.dbService.setItem('hospitalUsers', users);\n        }\n      });\n    }\n    onSubmit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.form.valid) {\n          const user = this.form.controls['username'].value;\n          const pass = this.form.controls['password'].value;\n          const res = yield this.logIn.SignIn(user, pass);\n          if (res) {\n            this.route.navigate(['home']);\n          } else {\n            const msg = \"Username or Password is Wrong !!\";\n            this.showAlert.showAlert(msg, \"error\", this.alertContainer);\n          }\n        }\n      });\n    }\n  }\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserLoginService), i0.ɵɵdirectiveInject(i3.ShowalertService), i0.ɵɵdirectiveInject(i4.IndexedDbService));\n  };\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    viewQuery: function LoginComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ViewContainerRef);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.alertContainer = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n      }\n    },\n    decls: 39,\n    vars: 8,\n    consts: [[\"placeholder\", \"\"], [1, \"header\"], [1, \"login-box\"], [1, \"login-form\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"card-title\"], [1, \"form-content\"], [\"matInput\", \"\", \"type\", \"text\", \"ngModel\", \"\", \"name\", \"username\", \"required\", \"\", \"pattern\", \"[a-zA-Z0-9]+\"], [\"username\", \"ngModel\"], [4, \"ngIf\"], [\"matInput\", \"\", \"ngModel\", \"\", \"name\", \"password\", \"required\", \"\", 3, \"type\"], [\"password\", \"ngModel\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"matSuffix\", \"\", 3, \"click\"], [1, \"form-content\", \"form-actions\"], [\"mat-stroked-button\", \"\", \"type\", \"submit\"], [\"href\", \"#\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, LoginComponent_ng_template_0_Template, 0, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(2, \"div\")(3, \"div\", 1)(4, \"h1\");\n        i0.ɵɵtext(5);\n        i0.ɵɵpipe(6, \"uppercase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 2)(10, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_10_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(12, \"mat-card\")(13, \"mat-card-header\")(14, \"mat-card-title\", 5);\n        i0.ɵɵtext(15, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"mat-card-content\", 6)(17, \"mat-form-field\")(18, \"mat-label\");\n        i0.ɵɵtext(19, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 7, 8);\n        i0.ɵɵtemplate(22, LoginComponent_mat_error_22_Template, 2, 0, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"mat-form-field\")(24, \"mat-label\");\n        i0.ɵɵtext(25, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"input\", 10, 11);\n        i0.ɵɵelementStart(28, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_28_listener() {\n          return ctx.hide = !ctx.hide;\n        });\n        i0.ɵɵelementStart(29, \"mat-icon\");\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(31, LoginComponent_mat_error_31_Template, 2, 0, \"mat-error\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"mat-card-actions\", 13)(33, \"mat-checkbox\");\n        i0.ɵɵtext(34, \"Remember me\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 14);\n        i0.ɵɵtext(36, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"a\", 15);\n        i0.ɵɵtext(38, \"forgot your Password ?\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(21);\n        const _r5 = i0.ɵɵreference(27);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 6, ctx.title));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Home | \", ctx.title, \"\");\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors.required);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"type\", ctx.hide ? \"password\" : \"text\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.hide ? \"visibility_off\" : \"visibility\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r5.errors == null ? null : _r5.errors.required);\n      }\n    },\n    dependencies: [i5.NgIf, i6.MatButton, i6.MatIconButton, i7.MatIcon, i8.MatCard, i8.MatCardActions, i8.MatCardContent, i8.MatCardHeader, i8.MatCardTitle, i9.MatFormField, i9.MatLabel, i9.MatError, i9.MatSuffix, i10.ɵNgNoValidate, i10.DefaultValueAccessor, i10.NgControlStatus, i10.NgControlStatusGroup, i10.RequiredValidator, i10.PatternValidator, i10.NgModel, i10.NgForm, i11.MatInput, i12.MatCheckbox, i5.UpperCasePipe],\n    styles: [\".header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;height:40vh;background-color:#390ead;word-spacing:1px;color:#fff}.login-box[_ngcontent-%COMP%]{margin:20px;padding:10px 20px}.login-form[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column}.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.card-title[_ngcontent-%COMP%]{text-align:center}.form-actions[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.form-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}